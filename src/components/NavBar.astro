---
import MenuIcon from '../icons/Menu.astro'
import CVButton from './CVButton.astro'
import Contact from './Contact.astro'
import HoverLink from './HoverLink.astro'
import ThemeToggle from './ThemeToggle.astro'
---

<nav
	class="fixed start-0 top-0 z-40 w-full border-b border-light-2 bg-white/80 bg-fixed shadow-md shadow-light-3/70 backdrop-blur-lg dark:border-dark-2/80 dark:bg-black/80 dark:shadow-dark-1/60"
>
	<div
		class="mx-auto flex max-w-screen-lg flex-wrap items-center justify-between p-4"
		data-accordion="open"
	>
		<CVButton />
		<button
			id="menu-button"
			data-accordion-target="#mega-menu-full"
			aria-expanded="false"
			aria-controls="mega-menu-full"
			class="inline-flex h-10 w-10 items-center justify-center rounded-lg p-2 text-sm text-gray-700 hover:bg-light-2/80 focus:outline-none focus:ring-2 focus:ring-light-3 dark:text-gray-300 dark:hover:bg-dark-1/80 dark:focus:ring-dark-1/60 nv:hidden"
		>
			<MenuIcon />
		</button>
		<div
			id="mega-menu-full"
			aria-labelledby="menu-button"
			class="mt-4 hidden w-full flex-col items-center justify-between font-medium nv:order-1 nv:mt-0 nv:flex nv:w-auto nv:flex-row nv:space-x-8 rtl:space-x-reverse"
		>
			<HoverLink href="hero">Inicio</HoverLink>
			<HoverLink href="experience">Experiencia</HoverLink>
			<HoverLink href="degree">Títulos y Certificaciones</HoverLink>
			<HoverLink href="projects">Proyectos</HoverLink>
			<HoverLink href="about">Acerca de mí</HoverLink>
			<Contact href="mailto:salemavelasquez97@gmail.com">Contacto</Contact>
			<ThemeToggle />
			<!-- <Languages /> -->
		</div>
	</div>
</nav>

<script is:inline>
	document.querySelectorAll('.scroll-to-anchor').forEach((anchor) => {
		anchor.addEventListener('click', function (e) {
			e.preventDefault()

			let target = document.getElementById(this.getAttribute('href'))
			if (target) {
				target.scrollIntoView()
			}
		})
	})
</script>
